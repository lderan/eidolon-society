{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/module/main.ts","src/module/sheets/ActorSheetPC.ts","src/module/sheets/TESActorSheet.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\r\nimport { ActorSheetPC } from \"./sheets/ActorSheetPC\";\r\n\r\n\r\n/* -------------------------------------------- */\r\n/*  Foundry VTT Initialization                  */\r\n/* -------------------------------------------- */\r\n\r\n/**\r\n * Init hook.\r\n */\r\n Hooks.once(\"init\", async function () {\r\n    console.log(`Loading The Eidolon Society System`);\r\n    // Register sheet application classes\r\n    Actors.unregisterSheet(\"core\", ActorSheet);\r\n    Actors.registerSheet(\"the-eidolon-society\", ActorSheetPC, { types: [\"character\"], makeDefault: true });\r\n });","import { TESActorSheet } from \"./TESActorSheet\";\r\n\r\n/**\r\n * Extend the basic ActorSheet with some very simple modifications\r\n *\r\n */\r\nexport class ActorSheetPC extends TESActorSheet {\r\n\r\n    /**\r\n     * Extend and override the default options used by the 5e Actor Sheet\r\n     * @returns {Object}\r\n     */\r\n\tstatic get defaultOptions() {\r\n\t\treturn mergeObject(super.defaultOptions, {\r\n\t\t\tclasses: [\"character\", \"sheet\", \"actor\"],\r\n\t\t\ttemplate: \"systems/the-eidolon-society/dist/templates/actor/character.html\",\r\n\t\t\twidth: 830,\r\n\t\t\theight: 900,\r\n\t\t\tcloseOnSubmit: false,\r\n\t\t\tsubmitOnChange: true,\r\n\t\t\tsubmitOnClose: true,\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\teditable: true,\r\n\t\t\tbaseApplication: 'the-eidolon-society',\r\n\t\t\tid: \"idlarp\",\r\n\t\t\tpopOut: true,\r\n\t\t\tminimizable: true,\r\n\t\t\tresizable: true,\r\n\t\t\ttitle: \"null\",\r\n\t\t\tscrollY: [],\r\n\t\t\ttabs: [],\r\n\t\t\tdragDrop: [],\r\n\t\t\tfilters: [],\r\n\t\t\tviewPermission: 2\r\n\t\t});\r\n\t}\r\n\r\n}","/**\r\n * Extend the basic ActorSheet with some very simple modifications\r\n *\r\n */\r\nexport class TESActorSheet extends ActorSheet {\r\n\r\n\t/** @overrride */\r\n\tgetData() {\r\n\t\tlet data = super.getData();\r\n\t\treturn data;\r\n\t}\r\n\r\n\tasync rollSkill(event) {\r\n\t\tconst targetSuit = event.currentTarget.dataset.type;\r\n\r\n\t\tnew Dialog({\r\n\t\t\ttitle:'Difficulty',\r\n\t\t\tcontent:`\r\n\t\t\t  <form>\r\n\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t  <input type='text' name='inputField' value=\"3\" />\r\n\t\t\t\t</div>\r\n\t\t\t  </form>`,\r\n\t\t\tbuttons:{\r\n\t\t\t  yes: {\r\n\t\t\t\ticon: \"<i class='fas fa-check'></i>\",\r\n\t\t\t\tlabel: `Roll ` + targetSuit\r\n\t\t\t  }},\r\n\t\t\tdefault:'yes',\r\n\t\t\tclose: html => {\r\n\t\t\t\tlet result = html.find('input[name=\\'inputField\\']');\r\n\t\t\t\tif (result.val()!== '') {\r\n\t\t\t\t\tlet cards = [];\r\n\r\n\t\t\t\t\tconst mind = this.actor.system['mind'];\r\n\t\t\t\t\tconst body = this.actor.system['body'];\r\n\t\t\t\t\tconst spirit = this.actor.system['spirit'];\r\n\t\t\t\t\tconst resources = this.actor.system['resources'];\r\n\r\n\t\t\t\t\tfor (let i = 1; i <= mind; i++) {\r\n\t\t\t\t\t\tcards.push({'type':'Mind', value: i});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let i = 1; i <= body; i++) {\r\n\t\t\t\t\t\tcards.push({'type':'Body', value: i});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let i = 1; i <= spirit; i++) {\r\n\t\t\t\t\t\tcards.push({'type':'Spirit', value: i});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let i = 1; i <= resources; i++) {\r\n\t\t\t\t\t\tcards.push({'type':'Resources', value: i});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let i = cards.length - 1; i > 0; i--) {\r\n\t\t\t\t\t\tconst j = Math.floor(Math.random() * (i + 1));\r\n\t\t\t\t\t\t[cards[i], cards[j]] = [cards[j], cards[i]];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst difficulty = parseInt(result.val());\r\n\t\t\t\t\tconst drawnCards = cards.splice(0, difficulty);\r\n\t\t\t\t\tlet found = false;\r\n\t\t\t\t\tlet lowest = null;\r\n\t\t\t\t\tlet highest = null;\r\n\r\n\t\t\t\t\tlet message = \"<strong>Skill: \" + targetSuit + \"</strong>\";\r\n\t\t\t\t\tlet cardsFound = \"<ul>\";;\r\n\r\n\t\t\t\t\tfor(let i = 0; i < drawnCards.length; i++) {\r\n\t\t\t\t\t\tif (lowest == null || lowest.value >= drawnCards[i].value) {\r\n\t\t\t\t\t\t\tlowest = drawnCards[i]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (highest == null || highest.value <= drawnCards[i].value) {\r\n\t\t\t\t\t\t\thighest = drawnCards[i]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcardsFound += \"<li>\";\r\n\r\n\t\t\t\t\t\tif (drawnCards[i].type == targetSuit){\r\n\t\t\t\t\t\t\tcardsFound += \"<strong>\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcardsFound += drawnCards[i].value + \" of \";\r\n\t\t\t\t\t\tswitch(drawnCards[i].type){\r\n\t\t\t\t\t\t\tcase 'Body': cardsFound += \"Swords\"; break;\r\n\t\t\t\t\t\t\tcase 'Mind': cardsFound += \"Wands\"; break;\r\n\t\t\t\t\t\t\tcase 'Spirit': cardsFound += \"Cups\"; break;\r\n\t\t\t\t\t\t\tcase 'Resources': cardsFound += \"Pentacles\"; break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (drawnCards[i].type == targetSuit){\r\n\t\t\t\t\t\t\tcardsFound += \"</strong>\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcardsFound += \"</li>\";\r\n\r\n\t\t\t\t\t\tif (drawnCards[i].type == targetSuit) {\r\n\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcardsFound += \"</ul>\";\r\n\r\n\t\t\t\t\tmessage += '<p><strong>';\r\n\t\t\t\t\tmessage += (found) ? 'Success':'Failure';\r\n\t\t\t\t\tmessage += '</strong></p>';\r\n\t\t\t\t\tmessage += '<strong>Cards pulled</strong>';\r\n\t\t\t\t\tmessage += cardsFound;\r\n\t\t\t\t\tmessage += \"<p>Refresh increases: \";\r\n\t\t\t\t\tmessage += found ? lowest.value: highest.value;\r\n\t\t\t\t\tmessage += '</p>';\r\n\r\n\t\t\t\t\t//const tn = event.currentTarget.dataset.tn;\r\n\t\t\t\t\tChatMessage.create({\r\n\t\t\t\t\t\tcontent: message,\r\n\t\t\t\t\t\tsound: CONFIG.sounds.dice,\r\n\t\t\t\t\t\tspeaker: ChatMessage.getSpeaker({ actor: this.actor }),\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).render(true);\r\n\t}\r\n\r\n\t/**\r\n\t * Activate event listeners using the prepared sheet HTML\r\n\t * @param html {HTML}   The prepared HTML object ready to be rendered into the DOM\r\n\t */\r\n\tactivateListeners(html) {\r\n\t\t// Owner Only Listeners\r\n\t\tif (this.actor.owner) {\r\n\t\t\tconsole.log(\"woo\");\r\n\t\t} else {\r\n\t\t\thtml.find(\".rollable\").each((i, el) => el.classList.remove(\"rollable\"));\r\n\t\t}\r\n\r\n\t\t// rolls\r\n\t\thtml.find('.click-roll').click(async event => {\r\n\t\t  \tthis.rollSkill(event);\r\n\t\t});\r\n\r\n\t\t// Handle default listeners last so system listeners are triggered first\r\n\t\tsuper.activateListeners(html);\r\n\t}\r\n\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvbW9kdWxlL21haW4udHMiLCJzcmMvbW9kdWxlL3NoZWV0cy9BY3RvclNoZWV0UEMudHMiLCJzcmMvbW9kdWxlL3NoZWV0cy9URVNBY3RvclNoZWV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7QUNDQSx3REFBcUQ7QUFHckQsa0RBQWtEO0FBQ2xELGtEQUFrRDtBQUNsRCxrREFBa0Q7QUFFbEQ7O0dBRUc7QUFDRixLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTs7UUFDaEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO1FBQ2xELHFDQUFxQztRQUNyQyxNQUFNLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMzQyxNQUFNLENBQUMsYUFBYSxDQUFDLHFCQUFxQixFQUFFLDJCQUFZLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUMxRyxDQUFDO0NBQUEsQ0FBQyxDQUFDOzs7OztBQ2hCSixtREFBZ0Q7QUFFaEQ7OztHQUdHO0FBQ0gsTUFBYSxZQUFhLFNBQVEsNkJBQWE7SUFFM0M7OztPQUdHO0lBQ04sTUFBTSxLQUFLLGNBQWM7UUFDeEIsT0FBTyxXQUFXLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRTtZQUN4QyxPQUFPLEVBQUUsQ0FBQyxXQUFXLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQztZQUN4QyxRQUFRLEVBQUUsaUVBQWlFO1lBQzNFLEtBQUssRUFBRSxHQUFHO1lBQ1YsTUFBTSxFQUFFLEdBQUc7WUFDWCxhQUFhLEVBQUUsS0FBSztZQUNwQixjQUFjLEVBQUUsSUFBSTtZQUNwQixhQUFhLEVBQUUsSUFBSTtZQUNuQixHQUFHLEVBQUUsQ0FBQztZQUNOLElBQUksRUFBRSxDQUFDO1lBQ1AsUUFB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d0VBQXdFO1FBQ3hFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvQixDQUFDO0NBRUQ7QUFySUQsc0NBcUlDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiXHJcbmltcG9ydCB7IEFjdG9yU2hlZXRQQyB9IGZyb20gXCIuL3NoZWV0cy9BY3RvclNoZWV0UENcIjtcclxuXHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4vKiAgRm91bmRyeSBWVFQgSW5pdGlhbGl6YXRpb24gICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuLyoqXHJcbiAqIEluaXQgaG9vay5cclxuICovXHJcbiBIb29rcy5vbmNlKFwiaW5pdFwiLCBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgTG9hZGluZyBUaGUgRWlkb2xvbiBTb2NpZXR5IFN5c3RlbWApO1xyXG4gICAgLy8gUmVnaXN0ZXIgc2hlZXQgYXBwbGljYXRpb24gY2xhc3Nlc1xyXG4gICAgQWN0b3JzLnVucmVnaXN0ZXJTaGVldChcImNvcmVcIiwgQWN0b3JTaGVldCk7XHJcbiAgICBBY3RvcnMucmVnaXN0ZXJTaGVldChcInRoZS1laWRvbG9uLXNvY2lldHlcIiwgQWN0b3JTaGVldFBDLCB7IHR5cGVzOiBbXCJjaGFyYWN0ZXJcIl0sIG1ha2VEZWZhdWx0OiB0cnVlIH0pO1xyXG4gfSk7IiwiaW1wb3J0IHsgVEVTQWN0b3JTaGVldCB9IGZyb20gXCIuL1RFU0FjdG9yU2hlZXRcIjtcclxuXHJcbi8qKlxyXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEFjdG9yU2hlZXQgd2l0aCBzb21lIHZlcnkgc2ltcGxlIG1vZGlmaWNhdGlvbnNcclxuICpcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBY3RvclNoZWV0UEMgZXh0ZW5kcyBURVNBY3RvclNoZWV0IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSA1ZSBBY3RvciBTaGVldFxyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqL1xyXG5cdHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKSB7XHJcblx0XHRyZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcclxuXHRcdFx0Y2xhc3NlczogW1wiY2hhcmFjdGVyXCIsIFwic2hlZXRcIiwgXCJhY3RvclwiXSxcclxuXHRcdFx0dGVtcGxhdGU6IFwic3lzdGVtcy90aGUtZWlkb2xvbi1zb2NpZXR5L2Rpc3QvdGVtcGxhdGVzL2FjdG9yL2NoYXJhY3Rlci5odG1sXCIsXHJcblx0XHRcdHdpZHRoOiA4MzAsXHJcblx0XHRcdGhlaWdodDogOTAwLFxyXG5cdFx0XHRjbG9zZU9uU3VibWl0OiBmYWxzZSxcclxuXHRcdFx0c3VibWl0T25DaGFuZ2U6IHRydWUsXHJcblx0XHRcdHN1Ym1pdE9uQ2xvc2U6IHRydWUsXHJcblx0XHRcdHRvcDogMCxcclxuXHRcdFx0bGVmdDogMCxcclxuXHRcdFx0ZWRpdGFibGU6IHRydWUsXHJcblx0XHRcdGJhc2VBcHBsaWNhdGlvbjogJ3RoZS1laWRvbG9uLXNvY2lldHknLFxyXG5cdFx0XHRpZDogXCJpZGxhcnBcIixcclxuXHRcdFx0cG9wT3V0OiB0cnVlLFxyXG5cdFx0XHRtaW5pbWl6YWJsZTogdHJ1ZSxcclxuXHRcdFx0cmVzaXphYmxlOiB0cnVlLFxyXG5cdFx0XHR0aXRsZTogXCJudWxsXCIsXHJcblx0XHRcdHNjcm9sbFk6IFtdLFxyXG5cdFx0XHR0YWJzOiBbXSxcclxuXHRcdFx0ZHJhZ0Ryb3A6IFtdLFxyXG5cdFx0XHRmaWx0ZXJzOiBbXSxcclxuXHRcdFx0dmlld1Blcm1pc3Npb246IDJcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcbn0iLCIvKipcclxuICogRXh0ZW5kIHRoZSBiYXNpYyBBY3RvclNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVEVTQWN0b3JTaGVldCBleHRlbmRzIEFjdG9yU2hlZXQge1xyXG5cclxuXHQvKiogQG92ZXJycmlkZSAqL1xyXG5cdGdldERhdGEoKSB7XHJcblx0XHRsZXQgZGF0YSA9IHN1cGVyLmdldERhdGEoKTtcclxuXHRcdHJldHVybiBkYXRhO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgcm9sbFNraWxsKGV2ZW50KSB7XHJcblx0XHRjb25zdCB0YXJnZXRTdWl0ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnR5cGU7XHJcblxyXG5cdFx0bmV3IERpYWxvZyh7XHJcblx0XHRcdHRpdGxlOidEaWZmaWN1bHR5JyxcclxuXHRcdFx0Y29udGVudDpgXHJcblx0XHRcdCAgPGZvcm0+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHQgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdpbnB1dEZpZWxkJyB2YWx1ZT1cIjNcIiAvPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQgIDwvZm9ybT5gLFxyXG5cdFx0XHRidXR0b25zOntcclxuXHRcdFx0ICB5ZXM6IHtcclxuXHRcdFx0XHRpY29uOiBcIjxpIGNsYXNzPSdmYXMgZmEtY2hlY2snPjwvaT5cIixcclxuXHRcdFx0XHRsYWJlbDogYFJvbGwgYCArIHRhcmdldFN1aXRcclxuXHRcdFx0ICB9fSxcclxuXHRcdFx0ZGVmYXVsdDoneWVzJyxcclxuXHRcdFx0Y2xvc2U6IGh0bWwgPT4ge1xyXG5cdFx0XHRcdGxldCByZXN1bHQgPSBodG1sLmZpbmQoJ2lucHV0W25hbWU9XFwnaW5wdXRGaWVsZFxcJ10nKTtcclxuXHRcdFx0XHRpZiAocmVzdWx0LnZhbCgpIT09ICcnKSB7XHJcblx0XHRcdFx0XHRsZXQgY2FyZHMgPSBbXTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBtaW5kID0gdGhpcy5hY3Rvci5zeXN0ZW1bJ21pbmQnXTtcclxuXHRcdFx0XHRcdGNvbnN0IGJvZHkgPSB0aGlzLmFjdG9yLnN5c3RlbVsnYm9keSddO1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3Bpcml0ID0gdGhpcy5hY3Rvci5zeXN0ZW1bJ3NwaXJpdCddO1xyXG5cdFx0XHRcdFx0Y29uc3QgcmVzb3VyY2VzID0gdGhpcy5hY3Rvci5zeXN0ZW1bJ3Jlc291cmNlcyddO1xyXG5cclxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDw9IG1pbmQ7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRjYXJkcy5wdXNoKHsndHlwZSc6J01pbmQnLCB2YWx1ZTogaX0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPD0gYm9keTsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdGNhcmRzLnB1c2goeyd0eXBlJzonQm9keScsIHZhbHVlOiBpfSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSBzcGlyaXQ7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRjYXJkcy5wdXNoKHsndHlwZSc6J1NwaXJpdCcsIHZhbHVlOiBpfSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSByZXNvdXJjZXM7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRjYXJkcy5wdXNoKHsndHlwZSc6J1Jlc291cmNlcycsIHZhbHVlOiBpfSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IGNhcmRzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xyXG5cdFx0XHRcdFx0XHRbY2FyZHNbaV0sIGNhcmRzW2pdXSA9IFtjYXJkc1tqXSwgY2FyZHNbaV1dO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGRpZmZpY3VsdHkgPSBwYXJzZUludChyZXN1bHQudmFsKCkpO1xyXG5cdFx0XHRcdFx0Y29uc3QgZHJhd25DYXJkcyA9IGNhcmRzLnNwbGljZSgwLCBkaWZmaWN1bHR5KTtcclxuXHRcdFx0XHRcdGxldCBmb3VuZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0bGV0IGxvd2VzdCA9IG51bGw7XHJcblx0XHRcdFx0XHRsZXQgaGlnaGVzdCA9IG51bGw7XHJcblxyXG5cdFx0XHRcdFx0bGV0IG1lc3NhZ2UgPSBcIjxzdHJvbmc+U2tpbGw6IFwiICsgdGFyZ2V0U3VpdCArIFwiPC9zdHJvbmc+XCI7XHJcblx0XHRcdFx0XHRsZXQgY2FyZHNGb3VuZCA9IFwiPHVsPlwiOztcclxuXHJcblx0XHRcdFx0XHRmb3IobGV0IGkgPSAwOyBpIDwgZHJhd25DYXJkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRpZiAobG93ZXN0ID09IG51bGwgfHwgbG93ZXN0LnZhbHVlID49IGRyYXduQ2FyZHNbaV0udmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHRsb3dlc3QgPSBkcmF3bkNhcmRzW2ldXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKGhpZ2hlc3QgPT0gbnVsbCB8fCBoaWdoZXN0LnZhbHVlIDw9IGRyYXduQ2FyZHNbaV0udmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHRoaWdoZXN0ID0gZHJhd25DYXJkc1tpXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNhcmRzRm91bmQgKz0gXCI8bGk+XCI7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoZHJhd25DYXJkc1tpXS50eXBlID09IHRhcmdldFN1aXQpe1xyXG5cdFx0XHRcdFx0XHRcdGNhcmRzRm91bmQgKz0gXCI8c3Ryb25nPlwiO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNhcmRzRm91bmQgKz0gZHJhd25DYXJkc1tpXS52YWx1ZSArIFwiIG9mIFwiO1xyXG5cdFx0XHRcdFx0XHRzd2l0Y2goZHJhd25DYXJkc1tpXS50eXBlKXtcclxuXHRcdFx0XHRcdFx0XHRjYXNlICdCb2R5JzogY2FyZHNGb3VuZCArPSBcIlN3b3Jkc1wiOyBicmVhaztcclxuXHRcdFx0XHRcdFx0XHRjYXNlICdNaW5kJzogY2FyZHNGb3VuZCArPSBcIldhbmRzXCI7IGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdGNhc2UgJ1NwaXJpdCc6IGNhcmRzRm91bmQgKz0gXCJDdXBzXCI7IGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdGNhc2UgJ1Jlc291cmNlcyc6IGNhcmRzRm91bmQgKz0gXCJQZW50YWNsZXNcIjsgYnJlYWs7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYgKGRyYXduQ2FyZHNbaV0udHlwZSA9PSB0YXJnZXRTdWl0KXtcclxuXHRcdFx0XHRcdFx0XHRjYXJkc0ZvdW5kICs9IFwiPC9zdHJvbmc+XCI7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Y2FyZHNGb3VuZCArPSBcIjwvbGk+XCI7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoZHJhd25DYXJkc1tpXS50eXBlID09IHRhcmdldFN1aXQpIHtcclxuXHRcdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNhcmRzRm91bmQgKz0gXCI8L3VsPlwiO1xyXG5cclxuXHRcdFx0XHRcdG1lc3NhZ2UgKz0gJzxwPjxzdHJvbmc+JztcclxuXHRcdFx0XHRcdG1lc3NhZ2UgKz0gKGZvdW5kKSA/ICdTdWNjZXNzJzonRmFpbHVyZSc7XHJcblx0XHRcdFx0XHRtZXNzYWdlICs9ICc8L3N0cm9uZz48L3A+JztcclxuXHRcdFx0XHRcdG1lc3NhZ2UgKz0gJzxzdHJvbmc+Q2FyZHMgcHVsbGVkPC9zdHJvbmc+JztcclxuXHRcdFx0XHRcdG1lc3NhZ2UgKz0gY2FyZHNGb3VuZDtcclxuXHRcdFx0XHRcdG1lc3NhZ2UgKz0gXCI8cD5SZWZyZXNoIGluY3JlYXNlczogXCI7XHJcblx0XHRcdFx0XHRtZXNzYWdlICs9IGZvdW5kID8gbG93ZXN0LnZhbHVlOiBoaWdoZXN0LnZhbHVlO1xyXG5cdFx0XHRcdFx0bWVzc2FnZSArPSAnPC9wPic7XHJcblxyXG5cdFx0XHRcdFx0Ly9jb25zdCB0biA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC50bjtcclxuXHRcdFx0XHRcdENoYXRNZXNzYWdlLmNyZWF0ZSh7XHJcblx0XHRcdFx0XHRcdGNvbnRlbnQ6IG1lc3NhZ2UsXHJcblx0XHRcdFx0XHRcdHNvdW5kOiBDT05GSUcuc291bmRzLmRpY2UsXHJcblx0XHRcdFx0XHRcdHNwZWFrZXI6IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoeyBhY3RvcjogdGhpcy5hY3RvciB9KSxcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSkucmVuZGVyKHRydWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXHJcblx0ICogQHBhcmFtIGh0bWwge0hUTUx9ICAgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxyXG5cdCAqL1xyXG5cdGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcclxuXHRcdC8vIE93bmVyIE9ubHkgTGlzdGVuZXJzXHJcblx0XHRpZiAodGhpcy5hY3Rvci5vd25lcikge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIndvb1wiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGh0bWwuZmluZChcIi5yb2xsYWJsZVwiKS5lYWNoKChpLCBlbCkgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZShcInJvbGxhYmxlXCIpKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyByb2xsc1xyXG5cdFx0aHRtbC5maW5kKCcuY2xpY2stcm9sbCcpLmNsaWNrKGFzeW5jIGV2ZW50ID0+IHtcclxuXHRcdCAgXHR0aGlzLnJvbGxTa2lsbChldmVudCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBIYW5kbGUgZGVmYXVsdCBsaXN0ZW5lcnMgbGFzdCBzbyBzeXN0ZW0gbGlzdGVuZXJzIGFyZSB0cmlnZ2VyZWQgZmlyc3RcclxuXHRcdHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpO1xyXG5cdH1cclxuXHJcbn0iXX0="}